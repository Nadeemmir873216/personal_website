<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Contact — Nadeem Ahmed Mir</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0b2030; --text:#eaf6f7; --muted:#9fb3c8; --accent:#3ee3cc;
  --glass: rgba(255,255,255,0.04); --glass-border: rgba(255,255,255,0.08);
}
@media (prefers-color-scheme: light){
  :root{ --bg:#f2fbf6; --text:#092028; --muted:#4f646e; --accent:#2ecc94; --glass: rgba(255,255,255,0.85); --glass-border: rgba(0,0,0,0.06); }
}
*{box-sizing:border-box} html,body{height:100%}
body{font-family:Inter,system-ui; margin:0; background:var(--bg); color:var(--text); display:flex; align-items:center; justify-content:center; padding:28px;}
.container{ width:100%; max-width:920px; }
.panel{ background:var(--glass); border:1px solid var(--glass-border); border-radius:14px; padding:26px; box-shadow:0 12px 36px rgba(0,0,0,0.3); }
h1{ margin:0 0 8px 0; color:var(--accent); font-size:26px; }
.lead{ color:var(--muted); margin:0 0 16px 0; }
form{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.full{ grid-column:1/-1; display:flex; flex-direction:column; gap:8px; }
label{ font-size:13px; color:var(--muted); font-weight:700; }
input, textarea{ background: rgba(255,255,255,0.02); border:1px solid var(--glass-border); color:var(--text); padding:10px 12px; border-radius:8px; font-size:14px; outline:none; }
textarea{ min-height:140px; resize:vertical; }
.actions{ display:flex; gap:12px; align-items:center; }
.btn{ background:var(--accent); color:#000; padding:10px 14px; border-radius:10px; border:none; font-weight:800; cursor:pointer; }
.secondary{ background:transparent; color:var(--muted); border:1px solid var(--glass-border); padding:9px 12px; border-radius:10px; text-decoration:none; display:inline-flex; align-items:center; }
.status{ margin-top:12px; padding:12px; border-radius:10px; display:none; font-weight:700; }
.status.ok{ display:block; background: color-mix(in srgb, var(--accent) 12%, transparent); color:var(--text); }
.status.err{ display:block; background: rgba(255,80,80,0.08); color:#ffb3b3; border:1px solid rgba(255,80,80,0.12); }
@media (max-width:780px){ form{ grid-template-columns: 1fr; } }
.small{ font-size:13px; color:var(--muted); margin-top:8px; }
</style>
</head>
<body>
<div class="container">
  <div class="panel" role="region" aria-labelledby="ctitle">
    <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:12px;">
      <div>
        <h1 id="ctitle">Get in touch</h1>
        <div class="lead">For AI/ML projects, freelance work, or quick questions — message me and I’ll reply soon.</div>
      </div>
      <a class="secondary" href="/" aria-label="Back to home">← Home</a>
    </div>

    <div id="status" class="status" role="status" aria-live="polite" style="display:none;"></div>

    <form id="contactForm" autocomplete="on">
      <!-- honeypot -->
      <input type="text" name="hp" id="hp" style="display:none" autocomplete="off">
      <label>
        <div style="font-size:13px;color:var(--muted);font-weight:700;">Name</div>
        <input name="from_name" id="from_name" required placeholder="Your full name">
      </label>

      <label>
        <div style="font-size:13px;color:var(--muted);font-weight:700;">Email</div>
        <input name="from_email" id="from_email" type="email" required placeholder="you@example.com">
      </label>

      <div class="full">
        <label>
          <div style="font-size:13px;color:var(--muted);font-weight:700;">Message</div>
          <textarea name="message" id="message" required placeholder="Short description of the project or question"></textarea>
        </label>
      </div>

      <div class="full actions">
        <button class="btn" type="submit" id="sendBtn">Send</button>
        <a class="secondary" id="mailFallback" href="mailto:hello@nadeemmir.com">Email directly</a>
        <div class="small">Sends to <strong>hello@nadeemmir.com</strong>. No server required — needs EmailJS setup (steps below).</div>
      </div>
    </form>
  </div>
</div>

<!-- EmailJS SDK -->
<script src="https://cdn.emailjs.com/sdk/3.2.0/email.min.js"></script>
<script>
/*
  Replace the three placeholders below with your EmailJS values:
  - SERVICE_ID (e.g. 'service_xxx')
  - TEMPLATE_ID (e.g. 'template_xxx') — template should include variables: from_name, from_email, message
  - USER_ID (public key, e.g. 'user_xxx')
*/
const SERVICE_ID = 'service_rhqfaxu';
const TEMPLATE_ID = 'template_t1ya8ai';
const USER_ID = 'tvH-RdgiMxn63aT03'; // EmailJS public key

// initialize if IDs are present
if(SERVICE_ID && TEMPLATE_ID && USER_ID && !SERVICE_ID.startsWith('YOUR')) {
  emailjs.init(USER_ID);
}

const form = document.getElementById('contactForm');
const status = document.getElementById('status');
const sendBtn = document.getElementById('sendBtn');

function showStatus(type, text) {
  status.style.display = 'block';
  status.className = 'status ' + (type === 'ok' ? 'ok' : 'err');
  status.textContent = text;
}

form.addEventListener('submit', function(e){
  e.preventDefault();

  // honeypot
  if(document.getElementById('hp').value) return;

  const name = document.getElementById('from_name').value.trim();
  const email = document.getElementById('from_email').value.trim();
  const message = document.getElementById('message').value.trim();

  if(!name || !email || !message) {
    showStatus('err','Please complete all fields.');
    return;
  }

  // if EmailJS is configured, use it
  if(typeof emailjs !== 'undefined' && SERVICE_ID && TEMPLATE_ID && USER_ID && !SERVICE_ID.startsWith('YOUR')) {
    sendBtn.disabled = true;
    sendBtn.textContent = 'Sending...';
    const templateParams = { from_name: name, from_email: email, message: message };

    emailjs.send(SERVICE_ID, TEMPLATE_ID, templateParams)
      .then(function(){
        showStatus('ok','Thanks — message sent. I will reply soon.');
        form.reset();
      }, function(err){
        console.error('EmailJS error', err);
        showStatus('err','Send failed. You can email directly to hello@nadeemmir.com');
      }).finally(()=> {
        sendBtn.disabled = false;
        sendBtn.textContent = 'Send';
      });

    return;
  }

  // If EmailJS not configured, fallback to mailto (opens user mail client)
  const mailto = `mailto:hello@nadeemmir.com?subject=${encodeURIComponent('Website message from ' + name)}&body=${encodeURIComponent('Name: ' + name + '\\nEmail: ' + email + '\\n\\n' + message)}`;
  window.location.href = mailto;
});
</script>
</body>
</html>
