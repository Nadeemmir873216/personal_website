<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nadeem Ahmed Mir</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#061425; --bg2:#0a1d33; --bg3:#09233f;
  --text:#e9f1f7; --muted:#9fb3c8; --accent:#3ee3cc;
  --glass-bg: rgba(255,255,255,0.06);
  --glass-border: rgba(255,255,255,0.12);
  --card-bg: rgba(255,255,255,0.04);
  --icon-bg: rgba(255,255,255,0.06);
  --shadow: 0 14px 44px rgba(0,0,0,0.44);
  --transition: 320ms cubic-bezier(.2,.9,.3,1);
  --max-width:1150px;
  --particle-color: rgba(60,220,200,0.11);
  --parallax-x: 0px;
  --parallax-y: 0px;
}

/* light theme */
:root.light{
  --bg1:#e4f7ff; --bg2:#c9f2e2; --bg3:#bee9d4;
  --text:#0c1a24; --muted:#4f646e; --accent:#2ecc94;
  --glass-bg: rgba(255,255,255,0.72);
  --glass-border: rgba(0,0,0,0.06);
  --card-bg: rgba(255,255,255,0.86);
  --icon-bg: rgba(0,0,0,0.06);
  --shadow: 0 12px 30px rgba(0,0,0,0.12);
  --particle-color: rgba(46,160,110,0.09);
}

/* reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  color:var(--text);
  min-height:100vh;
  display:flex;
  justify-content:center;
  padding:36px;
  background-color: var(--bg2);
  transition: background 700ms ease, color 300ms ease;
  background-image:
    radial-gradient(1200px 800px at calc(12% + var(--parallax-x)) calc(12% + var(--parallax-y)), rgba(8,27,44,0.82), rgba(8,27,44,0.36) 35%, transparent 62%),
    radial-gradient(1000px 650px at calc(88% + var(--parallax-x)) calc(86% + var(--parallax-y)), rgba(9,35,60,0.78), rgba(9,35,60,0.28) 30%, transparent 62%),
    linear-gradient(180deg, rgba(6,20,37,1) 0%, rgba(10,29,51,1) 50%, rgba(9,35,63,1) 100%);
  background-repeat:no-repeat;
  background-attachment: fixed;
  background-size:cover;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
:root.light body{
  background-image:
    radial-gradient(1200px 900px at calc(14% + var(--parallax-x)) calc(14% + var(--parallax-y)), rgba(230,250,255,0.96), rgba(230,250,255,0.6) 30%, transparent 65%),
    radial-gradient(1000px 650px at calc(86% + var(--parallax-x)) calc(82% + var(--parallax-y)), rgba(210,245,230,0.92), rgba(210,245,230,0.55) 30%, transparent 65%),
    linear-gradient(180deg, rgba(228,247,255,1) 0%, rgba(201,242,226,1) 55%, rgba(190,233,212,1) 100%);
}

/* layout */
.container{
  width:100%;
  max-width:var(--max-width);
  display:grid;
  grid-template-columns: minmax(300px, 380px) 1fr;
  gap:28px;
  align-items:start;
  position:relative;
  z-index:1;
}

/* particles canvas */
#particles {
  position: fixed;
  left: 0; top: 0; right:0; bottom:0;
  pointer-events: none;
  z-index: 0;
  mix-blend-mode: screen;
  opacity: 0.9;
  transition: opacity 400ms ease;
}
:root.light #particles { mix-blend-mode: normal; opacity: 0.8; }

/* THEME SWITCH ROW */
.theme-row{ grid-column:1 / -1; display:flex; justify-content:flex-end; margin-bottom:12px; z-index:2; }

/* ---------- FIXED SWITCH HANDLE CSS (centered icons) ---------- */
/* switch track */
.switch{
  width:72px;
  height:36px;
  border-radius:999px;
  padding:6px;
  background:var(--glass-bg);
  border:1px solid var(--glass-border);
  position:relative;
  cursor:pointer;
  display:flex;
  align-items:center;
  transition:all var(--transition);
  backdrop-filter: blur(12px) saturate(140%);
}

/* handle: explicit size, no internal padding, centered svg */
.handle{
  width:26px;
  height:26px;
  border-radius:50%;
  position:absolute;
  left:6px; /* same as track padding */
  top:50%;
  transform: translateY(-50%);
  background: linear-gradient(180deg,var(--accent), color-mix(in srgb, var(--accent) 70%, black 10%));
  box-shadow:0 6px 14px rgba(0,0,0,0.32);
  display:flex;
  align-items:center;
  justify-content:center;
  transition: left var(--transition) ease, transform var(--transition), box-shadow 220ms ease;
  padding:0; /* NO padding to avoid shifting */
  z-index:3;
}

/* handle position when light theme is active
   calc: 100% (track width) - track-padding (6px) - handle width (26px) */
:root.light .handle{
  left: calc(100% - 6px - 26px);
}

/* consistent svg size and alignment inside handle */
.handle svg{
  width:14px;
  height:14px;
  display:block;
}

/* nicer scale transitions for icons */
.handle .sun{ opacity:0; transform: scale(.92); transition: opacity 180ms ease, transform 180ms ease; }
:root.light .handle .sun{ opacity:1; transform: scale(1); }

.handle .moon{ opacity:1; transform: scale(1); transition: opacity 180ms ease, transform 180ms ease; }
:root.light .handle .moon{ opacity:0; transform: scale(.82); }

/* active press feel */
.switch:active .handle{ transform: translateY(-50%) scale(0.98); }

/* LEFT PANEL (hero) */
.panel{
  padding:34px;
  border-radius:18px;
  background:var(--glass-bg);
  border:1px solid var(--glass-border);
  backdrop-filter: blur(18px) saturate(160%);
  box-shadow:var(--shadow);
  position:relative;
  overflow:visible;
  transform-origin: left center;
  opacity:0;
  transform: translateY(10px) scale(0.995);
  animation: introPanel 520ms cubic-bezier(.2,.9,.25,1) forwards;
  transition: transform 420ms cubic-bezier(.2,.9,.25,1), box-shadow 420ms ease;
}

/* subtle static sheen */
.panel::after{
  content: "";
  position: absolute;
  left: 0; top: 0;
  width: 100%; height: 100%;
  pointer-events: none; border-radius: inherit;
  background: linear-gradient(120deg, rgba(255,255,255,0.02) 0%, rgba(255,255,255,0.06) 45%, rgba(255,255,255,0.02) 100%);
  opacity: 0.06; mix-blend-mode: overlay;
}

/* header and name formatting */
h1{ margin:0; font-weight:800; color:var(--text); line-height:1.02; position:relative; z-index:3; display:block; }
h1 .greeting{ display:block; font-size:20px; color:var(--text); opacity:0.95; margin-bottom:6px; line-height:1; }
h1 .fullname{ display:block; font-size:34px; color:var(--accent); line-height:1.02; word-break:keep-all; white-space:normal; }

/* underline kept */
h1::after{
  content:"";
  position:absolute;
  left:0; bottom:-10px; height:3px; width:0%;
  background: linear-gradient(90deg, color-mix(in srgb, var(--accent) 28%, transparent), var(--accent));
  border-radius:6px; transition: width 520ms cubic-bezier(.25,.9,.28,1); z-index:3;
}
@media (hover: hover) and (pointer: fine){
  .panel:hover { transform: translateY(-6px) scale(1.008); box-shadow: 0 30px 70px rgba(0,0,0,0.42); }
  .panel:hover h1::after { width:62%; }
}

.role{ margin-top:8px; color:var(--muted); font-size:15px; }
.desc{ margin-top:14px; color:var(--muted); line-height:1.6; font-size:15px; }
.tags{ margin-top:18px; display:flex; gap:10px; flex-wrap:wrap; }
.tag{ padding:8px 12px; border-radius:999px; background:var(--card-bg); border:1px solid var(--glass-border); color:var(--muted); font-weight:700; font-size:13px; }
.email{ margin-top:20px; padding-top:14px; border-top:1px solid var(--glass-border); color:var(--muted); font-size:14px; }
.email a{ color:var(--accent); font-weight:800; text-decoration:none; }

/* cards */
.cards { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; align-content:flex-start; padding-top:6px; z-index:2; }
.card{
  display:flex; align-items:center; gap:14px; padding:14px 16px; border-radius:14px;
  background:var(--card-bg); border:1px solid var(--glass-border); backdrop-filter: blur(12px);
  box-shadow:var(--shadow); color:var(--text); text-decoration:none;
  transition: transform var(--transition), box-shadow var(--transition), border-color var(--transition);
  width: clamp(240px, 24.5vw, 360px); min-width: 220px; opacity:0; transform: translateY(8px);
  will-change: transform, box-shadow;
}
.card:hover{ transform: translateY(-8px) scale(1.01); box-shadow: 0 22px 56px rgba(0,0,0,0.36); border-color: color-mix(in srgb, var(--accent) 18%, transparent); }
.icon{ width:56px; height:56px; border-radius:12px; background:var(--icon-bg); display:flex; align-items:center; justify-content:center; color:var(--accent); flex-shrink:0; transition: box-shadow 260ms ease, transform 260ms ease, filter 260ms ease; }
.card:hover .icon{ box-shadow: 0 12px 30px rgba(0,0,0,0.18), 0 0 18px color-mix(in srgb, var(--accent) 22%, transparent); transform: translateY(-2px); filter: drop-shadow(0 6px 18px rgba(0,0,0,0.12)); }
.card .text{ display:flex; flex-direction:column; gap:4px; min-width:0; }
.card .title{ font-weight:800; font-size:15px; white-space:nowrap; text-overflow:ellipsis; overflow:hidden; position:relative; }
.card .title::after{ content:""; position:absolute; left:0; bottom:-6px; height:2px; width:0; background: linear-gradient(90deg, transparent, var(--accent)); transition: width 260ms ease; }
.card:hover .title::after { width:100%; }
.card .sub{ color:var(--muted); font-size:13px; overflow-wrap:anywhere; transition: color 220ms ease; }
.card:hover .sub { color: color-mix(in srgb, var(--accent) 28%, var(--muted)); }

/* animations */
@keyframes introPanel { to { opacity:1; transform: translateY(0) scale(1); } }
@keyframes cardIntro { to { opacity:1; transform: translateY(0); } }

/* footer */
.footer { grid-column: 1 / -1; margin-top: 22px; text-align:center; color: var(--muted); font-size:13px; opacity:0.9; z-index:2; }

/* responsive */
@media (max-width:900px){
  .container{ grid-template-columns: 1fr; gap:18px; }
  .cards{ justify-content:space-between; gap:12px; }
  .card{ width: calc(50% - 10px); min-width:140px; }
  .panel{ padding:22px; border-radius:14px; }
  body{ padding:20px; }
  h1 .fullname{ font-size:28px; }
  h1 .greeting{ font-size:18px; }
}
@media (max-width:460px){
  .card{ width:100%; }
}
@media (max-width:600px){
  #particles { opacity:0.6; }
}
</style>
</head>
<body>
<canvas id="particles" aria-hidden="true"></canvas>

<div class="container" id="pageRoot">

  <!-- SWITCH -->
  <div class="theme-row">
    <div class="switch" id="themeSwitch" role="switch" aria-checked="false" tabindex="0" aria-label="Toggle theme">
      <div class="handle" id="switchHandle" aria-hidden="true">
        <!-- moon -->
        <svg class="moon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="currentColor"/>
        </svg>
        <!-- sun -->
        <svg class="sun" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <path d="M12 4.5v-3M12 22.5v-3M4.5 12H1.5M22.5 12h-3M5.8 5.8L3.6 3.6M20.4 20.4l-2.2-2.2M5.8 18.2L3.6 20.4M20.4 3.6l-2.2 2.2" stroke="white" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="12" cy="12" r="3.2" fill="white"/>
        </svg>
      </div>
    </div>
  </div>

  <!-- LEFT PANEL -->
  <section class="panel" aria-labelledby="intro">
    <h1 id="intro">
      <span class="greeting">Hi, I am</span>
      <span class="fullname">Nadeem Ahmed Mir</span>
    </h1>

    <div class="role">AI/ML Engineer • Data Science Student</div>

    <div class="desc">
      I build LLM applications, RAG systems, agents, and automation tools for startups. I focus on production-ready pipelines and pragmatic solutions.
    </div>

    <div class="tags">
      <div class="tag">LLMs</div>
      <div class="tag">RAG</div>
      <div class="tag">AI Agents</div>
      <div class="tag">Automation</div>
      <div class="tag">Data Science</div>
      <div class="tag">3D Animation</div>
    </div>

    <div class="email" style="margin-top:18px;">
      Email: <a href="mailto:hello@nadeemmir.com">hello@nadeemmir.com</a>
    </div>
  </section>

  <!-- CARDS -->
  <aside class="cards" aria-label="profiles" id="cardsWrap">

    <!-- Email -->
    <a class="card" href="mailto:hello@nadeemmir.com" data-idx="0">
      <div class="icon" aria-hidden="true">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
          <rect x="3" y="5" width="18" height="14" rx="2.2"></rect>
          <polyline points="3 7 12 13 21 7"></polyline>
        </svg>
      </div>
      <div class="text"><div class="title">Email</div><div class="sub">hello@nadeemmir.com</div></div>
    </a>

    <!-- GitHub -->
    <a class="card" href="https://github.com/nadeemmir873216" target="_blank" rel="noopener" data-idx="1">
      <div class="icon" aria-hidden="true">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
          <path d="M12 .5C5.65.5.5 5.65.5 12c0 5.08 3.29 9.38 7.86 10.9.58.1.79-.25.79-.56 0-.27-.01-1.17-.02-2.13-3.2.7-3.88-1.36-3.88-1.36-.53-1.33-1.29-1.68-1.29-1.68-1.06-.72.08-.7.08-.7 1.17.08 1.78 1.2 1.78 1.2 1.04 1.78 2.74 1.27 3.41.97.1-.76.41-1.27.74-1.56-2.55-.29-5.23-1.28-5.23-5.7 0-1.26.45-2.3 1.19-3.11-.12-.29-.52-1.46.11-3.04 0 0 .97-.31 3.18 1.19a10.84 10.84 0 015.8 0c2.21-1.5 3.18-1.19 3.18-1.19.63 1.58.23 2.75.11 3.04.74.81 1.19 1.85 1.19 3.11 0 4.43-2.69 5.41-5.25 5.69.42.37.8 1.1.8 2.22 0 1.6-.01 2.88-.01 3.27 0 .31.21.67.8.56A10.99 10.99 0 0023.5 12C23.5 5.65 18.35.5 12 .5z"/>
        </svg>
      </div>
      <div class="text"><div class="title">GitHub</div><div class="sub">nadeemmir873216</div></div>
    </a>

    <!-- LinkedIn -->
    <a class="card" href="https://www.linkedin.com/in/nadeem--mir" target="_blank" rel="noopener" data-idx="2">
      <div class="icon" aria-hidden="true">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M4.98 3.5A2.5 2.5 0 110 3.5a2.5 2.5 0 014.98 0zM.24 8.98H4.7V24H.24V8.98zM8.8 8.98h4.32v2.03h.06c.6-1.14 2.07-2.35 4.27-2.35 4.57 0 5.41 3.01 5.41 6.93V24H18.3v-7.32c0-1.74-.03-3.97-2.42-3.97-2.42 0-2.79 1.89-2.79 3.84V24H8.8V8.98z"/></svg>
      </div>
      <div class="text"><div class="title">LinkedIn</div><div class="sub">nadeem--mir</div></div>
    </a>

    <!-- YouTube -->
    <a class="card" href="https://youtube.com/@themeshproduction" target="_blank" rel="noopener" data-idx="3">
      <div class="icon" aria-hidden="true">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M23.5 6.2a3 3 0 00-2.1-2.1C19.6 3.5 12 3.5 12 3.5s-7.6 0-9.4.6A3 3 0 00.5 6.2 31.3 31.3 0 000 12a31.3 31.3 0 00.5 5.8 3 3 0 002.1 2.1c1.8.6 9.4.6 9.4.6s7.6 0 9.4-.6a3 3 0 002.1-2.1A31.3 31.3 0 0024 12a31.3 31.3 0 00-.5-5.8zM9.75 15.02V8.98L15.5 12l-5.75 3.02z"/></svg>
      </div>
      <div class="text"><div class="title">YouTube</div><div class="sub">The Mesh</div></div>
    </a>

    <!-- Instagram -->
    <a class="card" href="https://instagram.com/_nadeemmir_" target="_blank" rel="noopener" data-idx="4">
      <div class="icon" aria-hidden="true">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><rect x="3" y="3" width="18" height="18" rx="5"></rect><circle cx="12" cy="12" r="4"></circle><circle cx="17" cy="7" r="1.2" fill="currentColor"></circle></svg>
      </div>
      <div class="text"><div class="title">Instagram</div><div class="sub">@_nadeemmir_</div></div>
    </a>

    <!-- Behance -->
    <a class="card" href="https://www.behance.net/nadeemmirr" target="_blank" rel="noopener" data-idx="5">
      <div class="icon" aria-hidden="true" style="font-family:Inter,system-ui;">
        <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <text x="50%" y="58%" text-anchor="middle" font-family="Inter, system-ui, Arial" font-weight="800" font-size="22" fill="currentColor">Be</text>
        </svg>
      </div>
      <div class="text"><div class="title">Behance</div><div class="sub">behance.net/nadeemmirr</div></div>
    </a>

    <!-- CV -->
  <a class="card" href="https://nadeemmir.com/cv" target="_blank" rel="noopener" data-idx="6">
    <div class="icon" aria-hidden="true">
      <svg width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/>
        <path d="M14 2v6h6"/>
        <path d="M10 13h4"/>
        <path d="M10 17h4"/>
      </svg>
    </div>
    <div class="text">
      <div class="title">CV / Resume</div>
      <!-- <div class="sub">nadeemmir.com/cv</div> -->
    </div>
  </a>

    

  </aside>

  <div class="footer">© Nadeem Ahmed Mir · Built with care · <span id="year"></span></div>
</div>

<script>
/* THEME SWITCH + PREFS */
(function(){
  const root = document.documentElement;
  const sw = document.getElementById('themeSwitch');

  let saved = null;
  try { saved = localStorage.getItem('theme'); } catch(e){}
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  const initial = saved ? saved : (prefersDark ? 'dark' : 'light');
  if(initial === 'light') root.classList.add('light');
  sw.setAttribute('aria-checked', root.classList.contains('light') ? 'true' : 'false');

  function toggleTheme(){
    const isLight = root.classList.toggle('light');
    try { localStorage.setItem('theme', isLight ? 'light' : 'dark'); } catch(e){}
    sw.setAttribute('aria-checked', isLight ? 'true' : 'false');
    updateParticleParams();
  }

  sw.addEventListener('click', toggleTheme);
  sw.addEventListener('keydown', (e) => {
    if(e.key === ' ' || e.key === 'Enter'){ e.preventDefault(); toggleTheme(); }
  });

  try {
    if(!saved && window.matchMedia){
      const mq = window.matchMedia('(prefers-color-scheme: dark)');
      mq.addEventListener && mq.addEventListener('change', (ev) => {
        if(!localStorage.getItem('theme')){
          if(ev.matches) root.classList.remove('light'); else root.classList.add('light');
          sw.setAttribute('aria-checked', root.classList.contains('light') ? 'true' : 'false');
          updateParticleParams();
        }
      });
    }
  } catch(e){}
})();

/* YEAR */
document.getElementById('year').textContent = (new Date()).getFullYear();

/* CARD ENTRANCE */
(function(){
  const cards = document.querySelectorAll('.card');
  cards.forEach((c, i) => {
    const delay = 220 + i * 110;
    c.style.animation = `cardIntro 520ms cubic-bezier(.2,.9,.25,1) forwards`;
    c.style.animationDelay = `${delay}ms`;
  });
})();

/* PARALLAX */
(function(){
  const root = document.documentElement;
  let lastX=0,lastY=0, raf=0;
  function onMove(e){
    const w = window.innerWidth, h = window.innerHeight;
    const x = (e.clientX - w/2) / w * 12;
    const y = (e.clientY - h/2) / h * 12;
    lastX = x; lastY = y;
    if(!raf){
      raf = requestAnimationFrame(()=> {
        root.style.setProperty('--parallax-x', `${lastX}px`);
        root.style.setProperty('--parallax-y', `${lastY}px`);
        raf = 0;
      });
    }
  }
  window.addEventListener('mousemove', onMove);
})();

/* PARTICLES */
(function(){
  const canvas = document.getElementById('particles');
  if(!canvas) return;
  const ctx = canvas.getContext('2d');
  let w=0,h=0, dpr = Math.min(window.devicePixelRatio || 1, 2);
  let particles = [];
  let animId = null;
  const DEFAULT_COUNT = 28;

  function resize(){
    w = window.innerWidth; h = window.innerHeight;
    canvas.width = Math.round(w * dpr); canvas.height = Math.round(h * dpr);
    canvas.style.width = w + 'px'; canvas.style.height = h + 'px';
    ctx.setTransform(dpr,0,0,dpr,0,0);
  }
  function rand(min, max){ return Math.random() * (max-min) + min; }
  function createParticles(){
    particles = [];
    for(let i=0;i<DEFAULT_COUNT;i++){
      const size = rand(6, 28);
      particles.push({ x: rand(0, w), y: rand(0, h), vx: rand(-0.03, 0.03), vy: rand(-0.02, 0.02), size, baseSize: size, alpha: rand(0.03, 0.14), phase: rand(0, Math.PI*2) });
    }
  }
  function draw(){
    ctx.clearRect(0,0,w,h);
    const cssColor = getComputedStyle(document.documentElement).getPropertyValue('--particle-color') || 'rgba(60,220,200,0.11)';
    for(const p of particles){
      p.x += p.vx * (1 + Math.sin(p.phase)*0.2);
      p.y += p.vy * (1 + Math.cos(p.phase)*0.2);
      p.phase += 0.002 + Math.random()*0.002;
      if(p.x < -100) p.x = w + 100;
      if(p.x > w + 100) p.x = -100;
      if(p.y < -100) p.y = h + 100;
      if(p.y > h + 100) p.y = -100;
      const s = p.baseSize * (0.88 + 0.12 * Math.sin(p.phase*1.2));
      const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, s*1.6);
      const color = cssColor.trim();
      grad.addColorStop(0, color.replace(/rgba\(([^)]+)\)/, (m, g)=> {
        const parts = g.split(',').map(s=>s.trim());
        return `rgba(${parts[0]},${parts[1]},${parts[2]},${Math.min(p.alpha*1.8,0.28)})`;
      }));
      grad.addColorStop(1, color.replace(/rgba\(([^)]+)\)/, (m, g)=> {
        const parts = g.split(',').map(s=>s.trim());
        return `rgba(${parts[0]},${parts[1]},${parts[2]},0)`;
      }));
      ctx.globalCompositeOperation = 'lighter';
      ctx.fillStyle = grad; ctx.beginPath(); ctx.arc(p.x, p.y, s*1.1, 0, Math.PI*2); ctx.fill();
      ctx.globalCompositeOperation = 'source-over';
    }
  }
  function loop(){ draw(); animId = requestAnimationFrame(loop); }
  function start(){ cancelAnimationFrame(animId); resize(); createParticles(); loop(); }
  function updateParticleParams(){
    const isLight = document.documentElement.classList.contains('light');
    if(isLight){ document.documentElement.style.setProperty('--particle-color','rgba(46,160,110,0.08)'); canvas.style.mixBlendMode = 'normal'; canvas.style.opacity = '0.8'; }
    else { document.documentElement.style.setProperty('--particle-color','rgba(60,220,200,0.11)'); canvas.style.mixBlendMode = 'screen'; canvas.style.opacity = '0.95'; }
  }
  window.addEventListener('resize', () => { clearTimeout(window._pResize); window._pResize = setTimeout(()=> { start(); }, 180); });
  start(); updateParticleParams(); window.__updateParticles = updateParticleParams;
})();
(function(){ const obs = new MutationObserver(()=> { if(window.__updateParticles) window.__updateParticles(); }); obs.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] }); })();

/* CARD TILT (subtle) */
(function(){
  if(('ontouchstart' in window) || navigator.maxTouchPoints > 0) return;
  const cards = document.querySelectorAll('.card');
  const intensity = 8;
  function handleMove(e, card){
    const rect = card.getBoundingClientRect();
    const cx = rect.left + rect.width/2;
    const cy = rect.top + rect.height/2;
    const dx = (e.clientX - cx) / (rect.width/2);
    const dy = (e.clientY - cy) / (rect.height/2);
    const rx = (-dy * intensity).toFixed(2);
    const ry = (dx * intensity).toFixed(2);
    card.style.transform = `translateZ(0) rotateX(${rx}deg) rotateY(${ry}deg) scale(1.01)`;
    card.style.boxShadow = `0 ${18 - Math.abs(dy)*8}px ${40 - Math.abs(dx)*12}px rgba(0,0,0,0.36)`;
  }
  function reset(card){ card.style.transform = ''; card.style.boxShadow = ''; }
  cards.forEach(card => {
    card.addEventListener('mousemove', (e)=> handleMove(e, card));
    card.addEventListener('mouseenter', () => { card.style.transition = 'transform 120ms ease, box-shadow 140ms ease'; });
    card.addEventListener('mouseleave', () => { card.style.transition = 'transform 420ms cubic-bezier(.2,.9,.25,1), box-shadow 420ms cubic-bezier(.2,.9,.25,1)'; reset(card); });
    const icon = card.querySelector('.icon');
    card.addEventListener('mouseenter', () => { if(icon) icon.style.filter = 'brightness(1.06) saturate(1.12)'; });
    card.addEventListener('mouseleave', () => { if(icon) icon.style.filter = ''; });
  });
})();

</script>
</body>
</html>
